{% extends "layout.html" %}
{% block title %} - Home{% endblock %}
{% block head %}
    {{ super() }}
    <style type="text/css">
        .important { color: #336699; }
    </style>
{% endblock %}

<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="static/styles/userProfilePageStyle.css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!------ Include the above in your HEAD tag ---------->

{% block content %}
<div class="container emp-profile">
    <form method="post">
        <div class="row">
            <div class="col-md-4">
                <div class="profile-img">
                    <img src="https://image.flaticon.com/icons/png/128/1946/1946392.png" alt=""/>
                    {# Check to see if the user has a photo  #}
                    {% if user.image %}
                        {# If a photo exists, give the option to change the user photo #}
                        {{ user.image }}
                        <input type="file" name="image" value="Change Photo">
                    {% else %}
                        {# If no photo exists, give the option to upload a new one #}
{#                        <input type="file" name="image" value="Upload">#}
                    {% endif %}

                    <div class="file btn btn-sm">
                        Change Photo
                        <input type="file" name="file"/>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="profile-head">
                    <h5>
                        {{user.username}}
                    </h5>
                    <h6>
                        Music lover
                    </h6>
{#                    <p class="proile-rating">RANKINGS : <span>8/10</span></p>#}
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">History</a>
                        </li>
                    </ul>
                </div>
            </div>
{#            <div class="col-md-2">#}
{#                <input type="submit" class="profile-edit-btn" name="btnAddMore" value="Edit Profile"/>#}
{#            </div>#}
        </div>
{#        <div class="row">#}
{#            <div class="col-md-4">#}
{#                <div class="profile-work">#}
{#                    <p>WORK LINK</p>#}
{#                    <a href="">Website Link</a><br/>#}
{#                    <a href="">Bootsnipp Profile</a><br/>#}
{#                    <a href="">Bootply Profile</a>#}
{#                    <p>SKILLS</p>#}
{#                    <a href="">Web Designer</a><br/>#}
{#                    <a href="">Web Developer</a><br/>#}
{#                    <a href="">WordPress</a><br/>#}
{#                    <a href="">WooCommerce</a><br/>#}
{#                    <a href="">PHP, .Net</a><br/>#}
{#                </div>#}
{#            </div>#}
            <div class="col-md-8">
                <div class="tab-content profile-tab" id="myTabContent">
                    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                        <div class="row">
                            <div class="col-md-6">
                                <label>User Id</label>
                            </div>
                            <div class="col-md-6">
                                <p>{{ user.username }}</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label>Name</label>
                            </div>
                            <div class="col-md-6">
                                <p>{{ user.name }}</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label>Email</label>
                            </div>
                            <div class="col-md-6">
                                <p>{{ user.email }}</p>
                            </div>
                        </div>
{#                        <div class="row">#}
{#                            <div class="col-md-6">#}
{#                                <label>Phone</label>#}
{#                            </div>#}
{#                            <div class="col-md-6">#}
{#                                <p>123 456 7890</p>#}
{#                            </div>#}
{#                        </div>#}
{#                        <div class="row">#}
{#                            <div class="col-md-6">#}
{#                                <label>Profession</label>#}
{#                            </div>#}
{#                            <div class="col-md-6">#}
{#                                <p>Web Developer and Designer</p>#}
{#                            </div>#}
{#                        </div>#}
                    </div>
                    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                            <div class="row">
                                <div class="col-md-6 offset-md-3">
                                    <h3>Song History</h3>
                                    <ul class="timeline">
                                        {%for song_result in user_song_log%}
                                        <li>
                                            <a id="songLogTitle{{loop.index}}" href="#">{{song_result['song'].title}}</a>
                                            <a href="#" class="float-right">{{(song_result['percent_match']*100)|round(2)}}% | {{song_result['result_date'].strftime('%x')}}</a>
                                            <p>
                                                <span id="songLogArtist{{loop.index}}">
                                                    Artist: {{song_result['song'].artist}}
                                                </span>
                                                <br>
                                                Genre: {{song_result['song'].genre}}
                                            </p>
                                            <p>
                                                Add to Spotify 
                                                <a id="songLogLink{{loop.index}}" href="#"> <i id="songLogIcon{{loop.index}}" class="far fa-heart fa-lg"></i> </a>
                                            </p>
                                        </li>
                                        {%endfor%}
                                    </ul>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
{% endblock %}

{% block js %}
    {{super()}}
    <script src="{{ url_for('static', filename='userProfileTabs.js') }}"></script>
{% endblock %}